{% extends "layout.jinja2" %}

{% assets "main_scss_bundle" %}
    <link href="{{ ASSET_URL }}" rel="stylesheet" type="text/css">
{% endassets %}

{% block header %}
{% include "header.jinja2" %}
{% endblock %}

{% from 'bootstrap5/form.html' import render_field %}

{% block content %}
    <main class="flex-shrink-0">
      <div class="container">
        <div class="mt-5">
          <p class="lead">Credentials</p>
          <p>In order to change your password you must abide to certain system requirements.<br/>
            Your password must be 10 or more characters with a mix of letters, numbers and symbols.</p>
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-{{ category }} col-md-4"> {{ message }}</div>
                {% endfor %}
              {% endif %}
            {% endwith %}
            <form action="/account" method="POST">
              {{ form.csrf_token() }}
              {{ render_field(form.current_password, form_group_classes='col-md-2 mb-2') }}
              {{ render_field(form.new_password, form_group_classes='col-md-2 mb-2') }}
              {{ render_field(form.confirm_password, form_group_classes='col-md-2 mb-2') }}
              <div class="mb-2">
                <small class="form-text text-muted">Please re-type your new password to confirm</small>
              </div>
              {{ render_field(form.submit) }}
            </form>
            <p class="mt-3"><s>All password changes are logged and displayed on the <a href="#">statistics</a> page.</s><br/>
        </div>
      </div>
    </main>
{% endblock %}